# ‚öõÔ∏è React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: Hello-DevOps

> "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã–º –∏ –Ω–∞–¥–µ–∂–Ω—ã–º, –≤–æ–ø–ª–æ—â–∞—è –ø—Ä–∏–Ω—Ü–∏–ø DevOps –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ."

### üìù 1. –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —É–ø–∞–∫–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ–≥–æ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (SPA) –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞ –∏ –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ (Multi-stage build):

1.  Build Stage: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—Ä–∞–∑ node –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ React.
2.  Run Stage: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –æ–±—Ä–∞–∑ nginx:alpine –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤.

---

### üöÄ 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| :--------- | :----: | :--------- | :--------- |
| React | 18.x   | –§—Ä–æ–Ω—Ç–µ–Ω–¥-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ | SPA |
| Node.js| 20.x   | –°—Ä–µ–¥–∞ —Å–±–æ—Ä–∫–∏ | DRY: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–±–æ—Ä–∫–∏, –Ω–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞. |
| Docker | >24.0  | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | –ò–∑–æ–ª—è—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| Nginx | latest | –í–µ–±-—Å–µ—Ä–≤–µ—Ä | –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ (–ø—Ä–∏–Ω—Ü–∏–ø KISS) |

---

### üß± 3. Dockerfile (–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞)

–§–∞–π–ª Dockerfile —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –û–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ KISS (Keep It Simple, Stupid) –∏ DRY (Don't Repeat Yourself) –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —Å–±–æ—Ä–∫–∏.

`dockerfile
# ------------------------------------
# 1. BUILD STAGE (–°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
# ------------------------------------
# –ò—Å–ø–æ–ª—å–∑—É–µ–º Node –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∏
FROM node:20-alpine AS builder

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∫—ç—à–∞
COPY package*.json ./
RUN npm install

# –ö–æ–ø–∏—Ä—É–µ–º –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä–∫—É
COPY . .
# –°–æ–∑–¥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ build/
RUN npm run build


# ------------------------------------
# 2. RUN STAGE (–ó–∞–ø—É—Å–∫ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏)
# ------------------------------------
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Nginx –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
FROM nginx:alpine

# –ö–æ–ø–∏—Ä—É–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ —Å—Ç–∞–¥–∏–∏ 'builder' –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Nginx
COPY --from=builder /app/build /usr/share/nginx/html

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–æ–ø–∏—Ä—É–µ–º –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
# # –ï—Å–ª–∏ —É –≤–∞—Å Single Page Application (SPA), –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ Nginx
# # –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ (react-router-dom)
# # COPY nginx.conf /etc/nginx/conf.d/default.conf

# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç
EXPOSE 80

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ Nginx (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–±—Ä–∞–∑–µ)
CMD ["nginx", "-g", "daemon off;"]
